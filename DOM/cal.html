<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <div class="history"></div>
      <div class="display">0</div>
      <div class="btns">
        <button class="btnNum">1</button>
        <button class="btnNum">2</button>
        <button class="btnNum">3</button>
        <button class="btnNum">4</button>
        <button class="btnNum">5</button>
        <button class="btnNum">6</button>
        <button class="btnNum">7</button>
        <button class="btnNum">8</button>
        <button class="btnNum">9</button>
        <button class="btnNum">0</button>
        <button class="operator">+</button>
        <button class="operator">-</button>
        <button class="operator">*</button>
        <button class="operator">/</button>
        <button class="equal">=</button>
        <button class="clear">C</button>
      </div>
    </div>
    <script>
      const display = document.querySelector(".display");
      const history = document.querySelector(".history");
      const btnNum = document.querySelectorAll(".btns .btnNum");
      const equal = document.querySelector(".equal");
      const operatorD = document.querySelectorAll(".btns .operator");
      const clear = document.querySelector(".btns .clear");
      let firstNum = "";
      let operator = "";
      let currentDisplay = "";
      let historyOP = "";

      function calculate(num1, num2, op) {
        if (op === "/" && num2 === "0") return "cant divided by 0";
        if (op === "+") {
          return Number(num1) + Number(num2);
        } else if (op === "-") {
          return Number(num1) - Number(num2);
        } else if (op === "*") {
          return Number(num1) * Number(num2);
        } else if (op === "/") {
          return Number(num1) / Number(num2);
        }
      }
      clear.addEventListener("click", () => {
        firstNum = "";
        operator = "";
        currentDisplay = "";
        historyOP = "";
        display.textContent = "0";
        history.textContent = "";
      });
      btnNum.forEach((btns) => {
        btns.addEventListener("click", () => {
          currentDisplay += btns.textContent;
          display.textContent = currentDisplay;
        });
      });

      operatorD.forEach((btns) => {
        btns.addEventListener("click", () => {
          if (currentDisplay === "") return;
          firstNum = currentDisplay;
          operator = btns.textContent;
          currentDisplay = "";
          historyOP = `${firstNum} ${operator}`;
          history.textContent = historyOP;
        });
      });

      equal.addEventListener("click", () => {
        if (firstNum === "" || currentDisplay === "") return;
        let secondNum = currentDisplay;
        let result = calculate(firstNum, secondNum, operator);

        display.textContent = result;
        currentDisplay = result.toString();
        history.textContent = `${firstNum} ${operator} ${secondNum} `;
        firstNum = "";
        operator = "";
      });
    </script>
  </body>
</html>
